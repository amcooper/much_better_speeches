<!DOCTYPE html>
<html ng-app="speechChoices">
	<head>
		<title>FTFY Speeches</title>
		<meta charset="utf-8" />
		<link type="text/css" rel="stylesheet" href="css/bootstrap.css">
		<script src="js/angular.min.js"></script>
		<script src="js/jquery-1.11.3.js"></script>
		<script src="js/bootstrap.js"></script>
		<script src="js/app.js"></script>
	</head>
	<body>
		<header>
			<h1>FTFY Speeches</h1>
			<h2>Remix history's great speeches</h2>
		</header>

		<div ng-controller="SpeechListController as speechList">

			<div id="choices" ng-show="speechList.panel=='listPanel'">
				<div class="radio" ng-repeat="speech in speechList.speeches">
					<label display="block">
				    	<input type="radio" name="optionsRadios" id="optionsRadios" ng-model="speechList.speechIndex" value="{{$index}}" />
						<div>
							<p>{{speech.name}}</p>
							<p>{{speech.author_first_name}} {{speech.author_surname}}</p>
						</div>				    
				  	</label>
				</div>
				<button class="btn btn-default" type="submit" ng-click="speechList.listSubmit()">Submit</button>
			</div> <!-- choices -->

			<div id="madlibs" ng-show="speechList.panel=='fillingsPanel'">
				<h3>{{speechList.selected.name}}</h3>
				<h4>{{speechList.selected.author_first_name}} {{speechList.selected.author_surname}}</h4>
				<div ng-repeat="filling in speechList.selected.fillings track by $index">
					<input type="text" name="filling" id="filling" placeholder="{{filling.pos}}" ng-show="speechList.fillingsCounter==$index" ng-model="filling.text" />
					<button class="btn btn-default" type="submit" ng-show="(speechList.fillingsCounter==$index) && !($last)" ng-click="speechList.fillingsNext()">Next</button>
					<button class="btn btn-default" type="submit" ng-show="(speechList.fillingsCounter==$index) && $last" ng-click="speechList.fillingsSubmit()">Finished</button>
				</div>
			</div> <!-- madlibs -->

			<div id="resultText" ng-show="speechList.panel=='resultsPanel'">
				<h3>{{speechList.selected.name}}</h3>
				<h4>{{speechList.selected.author_first_name}} {{speechList.selected.author_surname}}</h4>
				<h4>This is much better:</h4>
				<div>
					<span ng-repeat="snippet in speechList.selected.text_snippets">
						{{snippet}} {{speechList.selected.fillings[$index].text}}
					</span>
				<div>
				<button class="btn btn-default" type="submit" ng-click="speechList.initialize()">Play again</button>
			</div> <!-- resultText -->

		</div> <!-- SpeechListController -->

	</body>
</html>